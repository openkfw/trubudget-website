<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/trubudget-website/blog/rss.xml" title="TruBudget Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/trubudget-website/blog/atom.xml" title="TruBudget Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="TruBudget" href="/trubudget-website/opensearch.xml"><title data-react-helmet="true">Introduction and Basics | TruBudget</title><meta data-react-helmet="true" property="og:url" content="https://openkfw.github.io/trubudget-website//trubudget-website/docs/operation-administration/introduction"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Introduction and Basics | TruBudget"><meta data-react-helmet="true" name="description" content="Architecture"><meta data-react-helmet="true" property="og:description" content="Architecture"><link data-react-helmet="true" rel="shortcut icon" href="/trubudget-website/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://openkfw.github.io/trubudget-website//trubudget-website/docs/operation-administration/introduction"><link data-react-helmet="true" rel="alternate" href="https://openkfw.github.io/trubudget-website//trubudget-website/docs/operation-administration/introduction" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://openkfw.github.io/trubudget-website//trubudget-website/docs/operation-administration/introduction" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://asdas-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/trubudget-website/assets/css/styles.6d00e70f.css">
<link rel="preload" href="/trubudget-website/assets/js/runtime~main.ceaab0fb.js" as="script">
<link rel="preload" href="/trubudget-website/assets/js/main.c0095d33.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/trubudget-website/"><strong class="navbar__title">TruBudget</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/trubudget-website/docs/README">Documentation</a><a href="https://github.com/openkfw/TruBudget/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/openkfw/TruBudget" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/trubudget-website/"><strong class="navbar__title">TruBudget</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/trubudget-website/docs/README">Documentation</a></li><li class="menu__list-item"><a href="https://github.com/openkfw/TruBudget/discussions" target="_blank" rel="noopener noreferrer" class="menu__link">Community</a></li><li class="menu__list-item"><a href="https://github.com/openkfw/TruBudget" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/trubudget-website/docs/README">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/trubudget-website/docs/usecases">Example Use Cases</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developer</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/introduction">Contributing to TruBudget</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/developer-setup">Setup</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/intro">Architecture Decision Records</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/record-architecture-decisions">Record architecture decisions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/access-control-model">Access Control Model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/project-data-model">Data model for projects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/ressource-level-lifetime">Resource-level lifetime</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/workflowitem-ordering">Workflowitem-ordering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/multi-node-setup">Multi-node setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/execution-architecture-overview">Basic architecture overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/git-branching-model">Git Branching Model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/migration-model">Migration Model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/multi-node-setup-and-user-management">Multi node setup and user management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/decline-node">Decline Node Request</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/architecture/node-connection-info">Node Status</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/developer/logging">Loging</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Operation / Administration</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/trubudget-website/docs/operation-administration/introduction">Introduction and Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/trubudget-website/docs/operation-administration/security">Security @ TruBudget</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/operation-administration/installation/README">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Connect to an existing network</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/operation-administration/installation/connect-to-existing-node/bare-metal">Connect to an Existing Network on Bare Metal</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/operation-administration/installation/connect-to-existing-node/connect-docker-compose">Connect to an Existing Network using Docker</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Create a new network</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/operation-administration/installation/create-new-network/bare-metal">Create a New Network Directly on Machine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/operation-administration/installation/create-new-network/create-new-docker-compose">Create a New Network with Docker-Compose</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/trubudget-website/docs/operation-administration/encryption">Securing communication between nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/trubudget-website/docs/operation-administration/logging">Logging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/trubudget-website/docs/operation-administration/multichain-cli">Multichain-Cli</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/trubudget-website/docs/operation-administration/update-trubudget">Updateing TruBudget</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User-Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/README">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">User and groups</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/users-and-groups/user">User</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/users-and-groups/group">Group</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/users-and-groups/permissions">Permissions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Project</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/projects/project">Project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/projects/subproject">Subproject</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/projects/workflowitem">Workflowitems</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Network</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/network/nodes">Nodes</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Status</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/status/status">Service-Status</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/backup">Backup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/confirmation">Confirmation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/excel-export">Excel Export</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/user-guide/notifications">Notifications</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Known Issues</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/known-issues/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/known-issues/local">Errors during Local Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/trubudget-website/docs/known-issues/dev">Issues during Developer Setup</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/trubudget-website/docs/enviroment-variables">Environment Variables</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Introduction and Basics</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="architecture"></a>Architecture<a class="hash-link" href="#architecture" title="Direct link to heading">#</a></h2><p>Following architecture diagram shows a Trubudget network with 3 standard nodes from 3 different Organizations.
A standard node is a Trubudget node with minimal components to function.
Organizations can decide which additional Trubudget features they want to add or if they want to connect their own system via Trubudget&#x27;s api.</p><p><img alt="trubudget-architecture" src="/trubudget-website/assets/images/Trubudget-architecture-diagram-1ee82ac63639f503a9fe8d3ceb0dcf20.PNG"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="environment-variables"></a>Environment variables<a class="hash-link" href="#environment-variables" title="Direct link to heading">#</a></h2><p>All installation and user guides have one thing in common: They all use environment variables to customize the setup of TruBudget. To get started, you should know about the environment variables, their purpose and how to set them.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setting-environment-variables"></a>Setting environment variables<a class="hash-link" href="#setting-environment-variables" title="Direct link to heading">#</a></h3><p>Environment variables need to be set via the command line. Usually, they are only valid for the active session, i.e. if you close the terminal window in which you have set the environment variable and then open a new command line window, the value of the environment variable is lost.</p><p>Setting an environment variable requires different commands in Linux/OS X and Windows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">VARIABLE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;value&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Linux / OS X</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">set</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">VARIABLE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;value&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Windows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To check the value of a given variable, run the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$VARIABLE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Linux / OS X</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> %VARIABLE% </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Windows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>In this case we assume you use the standard command line tool for Linux/OS X (which is Bash) and Windows (which is CMD).</p></div></div><p>Another option to set environment variables is to use a <code>.env</code> file in the directory where the start command is executed.
Trubudget provides a default example <code>.env_example</code> file which has to be renamed to <code>.env</code> if it should be used.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="environment-variables-in-trubudget"></a>Environment Variables in TruBudget<a class="hash-link" href="#environment-variables-in-trubudget" title="Direct link to heading">#</a></h3><p>The following environment variables are used for a minimal Trubudget installation. An <code>.env_example</code> file is provided in the root folder of Trubudget and can be used by renaming it to <code>.env</code>
These environment variables are described for the minimal set of a Trubudget deployment(<a href="https://github.com/openkfw/TruBudget/tree/master/frontend/README.md" target="_blank" rel="noopener noreferrer">frontend</a>/<a href="https://github.com/openkfw/TruBudget/tree/master/api/README.md" target="_blank" rel="noopener noreferrer">api</a>/<a href="https://github.com/openkfw/TruBudget/tree/master/blockchain/README.md" target="_blank" rel="noopener noreferrer">blockchain</a>) plus provisioning and docker-compose.
The <a href="https://github.com/openkfw/TruBudget/tree/master/provisioning/README.md" target="_blank" rel="noopener noreferrer">provisioning</a> project create a bunch of test data via api-requests on the configured node.
The <a href="https://github.com/openkfw/TruBudget/tree/master/docker-compose/README.md" target="_blank" rel="noopener noreferrer">docker-compose</a> environment variables are only important if the deployment is done via a docker-compose file provided by the Trubudget repository.
Environment Varaibles of other projects that are required to enable optional features can be found in the particular project&#x27;s <code>README</code>:</p><ul><li><p><a href="https://github.com/openkfw/TruBudget/tree/master/excel-export" target="_blank" rel="noopener noreferrer">Excel-Export</a></p></li><li><p><a href="https://github.com/openkfw/TruBudget/tree/master/email-notification/" target="_blank" rel="noopener noreferrer">Email-Notifications</a></p><p>The <code>Used by</code> section describes which projects are using the environment variable.
Following shortcuts are used:</p><table><thead><tr><th>Project</th><th>Shortcut</th></tr></thead><tbody><tr><td>Frontend</td><td>ui</td></tr><tr><td>API</td><td>api</td></tr><tr><td>Blockchain</td><td>bc</td></tr><tr><td>Provisioning</td><td>prov</td></tr><tr><td>Docker-compose</td><td>dc</td></tr></tbody></table></li></ul><table><thead><tr><th>Env Variable</th><th>Required</th><th>Default Value</th><th>Used by</th><th>Description</th></tr></thead><tbody><tr><td>ORGANIZATION</td><td>yes</td><td>-</td><td>bc/api</td><td>In the blockchain network, each node is represented by its organization name. This environment variable sets this organization name. It is used to create the organization stream on the blockchain and is also displayed in the frontend&#x27;s top right corner.</td></tr><tr><td>ORGANIZATION_VAULT_SECRET</td><td>yes</td><td>-</td><td>api</td><td>This is the key to en-/decrypt user data of an organization. If you want to add a new node for your organization, you want users to be able to log in on either node. Make sure that the api connected to the new node has the same organization vault secret.<br><strong>Caution:</strong> If you want to run TruBudget in production,make sure NOT to use the default value from the <code>.env_example</code> file!</td></tr><tr><td>API_HOST</td><td>no</td><td></td><td>bc/prov</td><td>The IP address of one api which is connected to the node you want to connect to (The IP addresses are usually the same as for the P2P host address).</td></tr><tr><td>API_PORT</td><td>no</td><td>8080</td><td>bc/prov</td><td>The port used to connect to the api.</td></tr><tr><td>JWT_SECRET</td><td>no</td><td>[random]</td><td>api/bc</td><td>A string that is used to sign JWT which are created by the authenticate endpoint of the api</td></tr><tr><td>P2P_HOST</td><td>no</td><td></td><td>bc</td><td>The IP address of the blockchain node you want to connect to.</td></tr><tr><td>P2P_PORT</td><td>no</td><td>7447</td><td>bc</td><td>The port on which the node you want to connect to has exposed the blockchain.</td></tr><tr><td>PORT</td><td>no</td><td>8080</td><td>api</td><td>The port used to expose the API for your installation. Example: If you run TruBudget locally and set API_PORT to <code>8080</code>, you can reach the API via <code>localhost:8080/api</code>.</td></tr><tr><td>ROOT_SECRET</td><td>no</td><td>[random]</td><td>api</td><td>The root secret is the password for the root user. If you start with an empty blockchain, the root user is needed to add other users, approve new nodes,.. If you don&#x27;t set a value via the environment variable, the API generates one randomly and prints it to the console<br><strong>Caution:</strong> If you want to run TruBudget in production, make sure to set a secure root secret.</td></tr><tr><td>RPC_PASSWORD</td><td>no</td><td>[hardcoded]</td><td>api/bc</td><td>Password used by the API to connect to the blockchain. The password is set by the origin node upon start. Every slave node needs to use the same RPC password in order to be able to connect to the blockchain.<br><strong>Hint:</strong> Although the RPC_PASSWORD is not required it is highly recommended to set an own secure one</td></tr><tr><td>RPC_PORT</td><td>no</td><td>8000</td><td>api/bc</td><td>The port used to expose the multichain daemon of your Trubudget blockchain installation(bc). The port used to connect to the multichain daemon(api). This will be used internally for the communication between the API and the multichain daemon.</td></tr><tr><td>RPC_USER</td><td>no</td><td>multichainrpc</td><td>api/bc</td><td>The user used to connect to the multichain daemon.</td></tr><tr><td>EXTERNAL_IP</td><td>no</td><td></td><td>bc</td><td>The IP address with which the current node can be reached. Example: If you have a VM running on 52.52.52.52 and you want to start a slave node from this VM to connect to a master running on 53.53.53.53, you set the <code>EXTERNAL_IP</code> to 52.52.52.52 on this node.</td></tr><tr><td>ACCESS_CONTROL_ALLOW_ORIGIN</td><td>no</td><td>&quot;*&quot;</td><td>bc</td><td>This environment variable is needed for the feature &quot;Export to Excel&quot;. Since the export service uses CORS, the domain by which it can be called needs to be set. Setting this value to <code>&quot;*&quot;</code> means that it can be called from any domain. Read more about this topic <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">here</a>.</td></tr><tr><td>LOG_LEVEL</td><td>no</td><td>INFO</td><td>api/bc</td><td>Sets the lowest level to the pino logger that is printed to <code>STDOUT</code> with varying levels ranging from <code>trace</code> to <code>fatal</code>.</td></tr><tr><td>MULTICHAIN_DIR</td><td>no</td><td>/root</td><td>bc</td><td>The path to the multichain folder where the blockchain data is persisted. For installations via <code>docker-compose</code>, this refers to the path within the docker container of the blockchain. For bare metal installations, this refers to the path on the machine the blockchain is running on.</td></tr><tr><td>PRETTY_PRINT</td><td>no</td><td>true</td><td>api/bc</td><td>Decides whether the logs printed by the API are pretty printed or not. Pretty printed logs are easier to read while non-pretty printed logs are easier to store and use e.g. in the ELK (Elasticsearch-Logstash-Kabana) stack.</td></tr><tr><td>SWAGGER_BASEPATH <code>deprecated</code></td><td>no</td><td>/</td><td>api</td><td>This variable was used to choose which environment (prod or test) is used for testing the requests. The variable is deprecated now, as the Swagger documentation can be used for the prod and test environment separately.</td></tr><tr><td>TAG</td><td>no</td><td>master</td><td>dc</td><td>The tag defines the version of the image that is pulled from the docker hub.</td></tr><tr><td>NODE_ENV</td><td>no</td><td></td><td>ui</td><td>If set to <code>development</code> search Trubudget&#x27;s external services on localhost. If set to <code>production</code> disable Redux devtools extension</td></tr><tr><td>REACT_APP_VERSION</td><td>no</td><td></td><td>ui</td><td>Injected version via <code>$npm_package_version</code> in<code>.env</code> file to ensure the version is shown in the frontend</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="kubernetes"></a>Kubernetes<a class="hash-link" href="#kubernetes" title="Direct link to heading">#</a></h4><table><thead><tr><th>Env Variable</th><th>Required</th><th>Default Value</th><th>Used by</th><th>Description</th></tr></thead><tbody><tr><td>EXPOSE_MC</td><td>no</td><td>false</td><td>bc</td><td>If set to true Trubudget tries to expose it&#x27;s multichain via kubernetes&#x27; ingress. First a kubernetes config file is searched in <code>/.kube/config</code>. If not found and the MC is deployed in a cluster, it is searching for the service account to get the information. After configuration the <code>externalip</code> arg is set to the ip of the service&#x27; ingress of the configured clusterSERVICE_NAME and NAMESPACE are required to access the ingress of the service.</td></tr><tr><td>SERVICE_NAME</td><td>no</td><td></td><td>bc</td><td>This variable is only required if EXPOSE_MC is set to true. It defines which service the kubernetes client should search for in the configured kubernetes cluster</td></tr><tr><td>NAMESPACE</td><td>no</td><td></td><td>bc</td><td>This variable is only required if EXPOSE_MC is set to true. It defines in which namespace the kubernetes client should search for the given service</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="organizations-and-nodes-in-trubudget"></a>Organizations and Nodes in TruBudget<a class="hash-link" href="#organizations-and-nodes-in-trubudget" title="Direct link to heading">#</a></h2><p>One of the terms used most in TruBudget is <em>organization</em>. This section describes what organizations are in the context of TruBudget and how they interact with each other.</p><p>An <em>organization</em> is a stakeholder in the funding process (e.g. Ministry of X). TruBudget is designed to connect multiple organizations together. Each organization creates their own users. Each user is associated to exactly one organization and can only login to nodes of that organization.</p><p>An organization can run one or more nodes. Each organization has exactly one wallet that can be used to vote when granting or revoking permissions to other wallet addresses, which is key to preventing a 51%-attack against the network. This means that even if one organization has multiple nodes, it gets only <em>one</em> vote for adding new organizations to the network.</p><p>Each organization has one shared key to en-/decrypt the user data, which is set in via the <code>ORGANIZATION_VAULT_SECRET</code>. Every node of one organization needs to use the same key. If one node of an organization uses the same organization name, but a different organization vault secret, users created on other nodes cannot login on this faulty node, even though the name of the organization is the same.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="lets-look-at-this-using-some-examples"></a>Let&#x27;s look at this using some examples.<a class="hash-link" href="#lets-look-at-this-using-some-examples" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="two-organizations-orgaa-origin-node-orgab-connecting-to-organization-a-each-with-one-node"></a>Two organizations: OrgaA (origin node), OrgaB (connecting to Organization A), Each with one Node<a class="hash-link" href="#two-organizations-orgaa-origin-node-orgab-connecting-to-organization-a-each-with-one-node" title="Direct link to heading">#</a></h4><p>OrgaA starts a new origin node (i.e. a new, empty blockchain) and creates a new user called Alice. At this point, OrgaA has 100% voting power in the network since it is the only node. OrgaB then connects to OrgaA&#x27;s node. After OrgaA approves the addition of a new node, OrgaB synchronizes the data and creates a new user called Bob. Alice and Bob can now both see the complete user list of the network (i.e. Alice and Bob), but Alice cannot login on OrgaB&#x27;s node and Bob cannot login on OrgaA&#x27;s node since they don&#x27;t have the same <code>ORGANIZATION_VAULT_SECRET</code>. Each of the organizations now holds 50% of the voting power in the network.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="two-organizations-additional-node"></a>Two organizations: Additional Node<a class="hash-link" href="#two-organizations-additional-node" title="Direct link to heading">#</a></h4><p>OrgaA has employees in another location and decides to add another node on a server on this location. OrgaA then creates a new node with the same name and <code>ORGANIZATION_VAULT_SECRET</code>. The request for a new node of an existing organization pops up in the frontend for both organizations. The addition of a new node for one organization does not create a new wallet address and therefore also does not need more than 50% approval. OrgaA approves the addition of a new node and creates a user account for Ava. Both OrgaA and OrgaB still hold 50% of the voting power.</p><p>Ava visits the other work location to work together with Alice. She can log in on the same node as Alice, since they share the same organization vault secret.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="three-organizations-orgac-decides-to-join"></a>Three organizations: OrgaC decides to join<a class="hash-link" href="#three-organizations-orgac-decides-to-join" title="Direct link to heading">#</a></h4><p>OrgaC wants to join the network and connects to OrgaA. The request for approval is visible on the frontends of OrgaA and OrgaB. Since both of them hold 50% of the voting power, <em>both</em> organizations need to approve OrgaC before it can join the network. After both organizations approve OrgaC, the data is synchronized and OrgaC creates a new user called Charlie. Like for the other organizations, Charlie can only login on the node of OrgaC. All three organizations now hold 33.33% of the voting power in the network.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="further-reading"></a>Further reading<a class="hash-link" href="#further-reading" title="Direct link to heading">#</a></h2><p>If you want to read more about the concept of organizations, have a look at the <a href="/trubudget-website/docs/developer/architecture/multi-node-setup-and-user-management">Multi Node Setup ADR</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/operation-administration/introduction.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-07-08T11:34:30.000Z" class="lastUpdatedDate_1WI_">7/8/2021</time> by <strong>mayrmartin</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/trubudget-website/docs/developer/logging"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Loging</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/trubudget-website/docs/operation-administration/security"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Security @ TruBudget Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#architecture" class="table-of-contents__link">Architecture</a></li><li><a href="#environment-variables" class="table-of-contents__link">Environment variables</a><ul><li><a href="#setting-environment-variables" class="table-of-contents__link">Setting environment variables</a></li><li><a href="#environment-variables-in-trubudget" class="table-of-contents__link">Environment Variables in TruBudget</a></li></ul></li><li><a href="#organizations-and-nodes-in-trubudget" class="table-of-contents__link">Organizations and Nodes in TruBudget</a><ul><li><a href="#lets-look-at-this-using-some-examples" class="table-of-contents__link">Let&#39;s look at this using some examples.</a></li></ul></li><li><a href="#further-reading" class="table-of-contents__link">Further reading</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/trubudget-website/docs/README">Tutorial</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/openkfw/TruBudget/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github Discussions</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/openkfw/TruBudget" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 TruBudget</div></div></div></footer></div>
<script src="/trubudget-website/assets/js/runtime~main.ceaab0fb.js"></script>
<script src="/trubudget-website/assets/js/main.c0095d33.js"></script>
</body>
</html>