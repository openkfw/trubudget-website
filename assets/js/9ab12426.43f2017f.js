"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[91984],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>m});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=o.createContext({}),c=function(e){var t=o.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=c(e.components);return o.createElement(d.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,d=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=c(n),h=r,m=p["".concat(d,".").concat(h)]||p[h]||u[h]||a;return n?o.createElement(m,i(i({ref:t},l),{},{components:n})):o.createElement(m,i({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=h;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s[p]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},48198:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var o=n(87462),r=(n(67294),n(3905));const a={sidebar_position:11},i="Decline Node Request",s={unversionedId:"developer/architecture/decline-node",id:"developer/architecture/decline-node",title:"Decline Node Request",description:"Date: 11/03/2021",source:"@site/docs/developer/architecture/0011-decline-node.md",sourceDirName:"developer/architecture",slug:"/developer/architecture/decline-node",permalink:"/docs/developer/architecture/decline-node",draft:!1,editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/developer/architecture/0011-decline-node.md",tags:[],version:"current",lastUpdatedBy:"egdmrsy",lastUpdatedAt:1687939379,formattedLastUpdatedAt:"Jun 28, 2023",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"Multi node setup and user management",permalink:"/docs/developer/architecture/multi-node-setup-and-user-management"},next:{title:"Node Status",permalink:"/docs/developer/architecture/node-connection-info"}},d={},c=[{value:"Status",id:"status",level:2},{value:"Context",id:"context",level:2},{value:"Decision",id:"decision",level:2},{value:"Consequences",id:"consequences",level:2}],l={toc:c},p="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,o.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"decline-node-request"},"Decline Node Request"),(0,r.kt)("p",null,"Date: 11/03/2021"),(0,r.kt)("h2",{id:"status"},"Status"),(0,r.kt)("p",null,"Accepted"),(0,r.kt)("h2",{id:"context"},"Context"),(0,r.kt)("p",null,"We want to be able to decline node requests. The current api logic saves an event on the ",(0,r.kt)("inlineCode",{parentName:"p"},"nodes")," stream for all nodes registered on the network. These nodes appear in the ui's nodes table as requests. So far, the requests that were not accepted would pile up and could not be deleted. When accepted, the nodes receive permissions from the MultiChain and can successfully connect to the system. Basic nodes receive the connect, send, receive, issue and create permissions, and admin nodes also have the mine, activate and admin permissions. For more details on these permissions check out the ",(0,r.kt)("a",{parentName:"p",href:"https://www.multichain.com/developers/permissions-management/"},"Multichain permissions management")," documentation. The opposite of the approval of nodes (which is actually a granting of permissions) would be to revoke these permissions. However, this would not lead to the desired outcome because the nodes would again appear in the list of requests as trying to connect to the network."),(0,r.kt)("h2",{id:"decision"},"Decision"),(0,r.kt)("p",null,"As MultiChain doesn't offer a possibility to decline nodes, we want to save an event on the ",(0,r.kt)("inlineCode",{parentName:"p"},"nodes")," stream that mentions that a node was declined and by what organization. This way, when listing the nodes, the ones that appear in the stream as declined will be hidden from all nodes belonging to the decliner organization."),(0,r.kt)("p",null,"In order to promote transparency, every node in the network should see if a node has been declined by another orga."),(0,r.kt)("h2",{id:"consequences"},"Consequences"),(0,r.kt)("p",null,"A new endpoint ",(0,r.kt)("inlineCode",{parentName:"p"},"/network.declineNode")," will be created that sends the request to decline a node. Apart from the ",(0,r.kt)("inlineCode",{parentName:"p"},"node.registered")," event a new type of event can now be saved on the ",(0,r.kt)("inlineCode",{parentName:"p"},"nodes")," stream ",(0,r.kt)("inlineCode",{parentName:"p"},"node.declined"),". When calling the ",(0,r.kt)("inlineCode",{parentName:"p"},"/network.list"),"endpoint, an additional field ",(0,r.kt)("inlineCode",{parentName:"p"},"decliners")," should be used to list the decliners of each node."))}u.isMDXComponent=!0}}]);